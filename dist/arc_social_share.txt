# arc_social_share v1.5.0
# Social media share links
# Andy Carter
# https://andy-carter.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjE2OiJhcmNfc29jaWFsX3NoYXJlIjtzOjc6InZlcnNpb24i
O3M6NToiMS41LjAiO3M6NjoiYXV0aG9yIjtzOjExOiJBbmR5IENhcnRlciI7czoxMDoiYXV0
aG9yX3VyaSI7czoyNDoiaHR0cHM6Ly9hbmR5LWNhcnRlci5jb20vIjtzOjExOiJkZXNjcmlw
dGlvbiI7czoyNDoiU29jaWFsIG1lZGlhIHNoYXJlIGxpbmtzIjtzOjU6Im9yZGVyIjtzOjE6
IjUiO3M6NDoidHlwZSI7czoxOiIwIjtzOjQ6ImhlbHAiO3M6MzUyNjoiCTxoMT5hcmNfc29j
aWFsX3NoYXJlPC9oMT4KCgk8cD5FYXNpbHkgYWRkIGxpbmtzIGZvciBzaGFyaW5nIGNvbnRl
bnQgd2l0aCBudW1lcm91cyBzb2NpYWwgbmV0d29ya3MuPC9wPgoKCTxoMj5UaGUgVGFnczwv
aDI+CgoJPHA+QWxsIHRhZ3MgaGF2ZSB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6LTwvcD4K
Cgk8dWw+CgkJPGxpPmNsYXNzOiBjbGFzcyBuYW1lIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGxp
bmsgdGFnPC9saT4KCQk8bGk+dXJsOiA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPiB0
byBzaGFyZSwgdXNlIHRoaXMgdG8gb3ZlcnJpZGUgdGhlIGFydGljbGUmIzgyMTc7cyBwZXJt
bGluazwvbGk+CgkJPGxpPnV0bTogcGFzcyAmIzgyMTY7MSYjODIxNzsgdG8gZW5hYmxlIDxz
cGFuIGNsYXNzPSJjYXBzIj5VVE08L3NwYW4+IHBhcmFtZXRlcnMgZm9yIEdvb2dsZSBBbmFs
eXRpY3MgKG9mZiBieSBkZWZhdWx0KTwvbGk+Cgk8L3VsPgoKCTxwPkFsbCB0YWdzIGFwYXJ0
IGZyb20gPGNvZGU+YXJjX3NvY2lhbF9zaGFyZV9mYWNlYm9vazwvY29kZT4gYW5kIDxjb2Rl
PmFyY19zb2NpYWxfc2hhcmVfZ3BsdXM8L2NvZGU+IGhhdmUgYSAmIzgyMTY7dGl0bGUmIzgy
MTc7IGF0dHJpYnV0ZSBmb3Igb3ZlcnJpZGRpbmcgdGhlIGFydGljbGUmIzgyMTc7cyB0aXRs
ZSB0byBiZSBpbmNsdWRlZCBpbiB0aGUgc2hhcmUgbGluay48L3A+CgoJPGgzPkRlbGljaW91
czwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3NvY2lhbF9zaGFyZV9kZWxpY2lvdXMg
LyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMz5GYWNlYm9vazwvaDM+Cgo8cHJlPjxjb2RlPiZs
dDt0eHA6YXJjX3NvY2lhbF9zaGFyZV9mYWNlYm9vayAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJ
PGgzPkdvb2dsZSs8L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY19zb2NpYWxfc2hhcmVf
Z3BsdXMgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMz5MaW5rZWRJbjwvaDM+Cgo8cHJlPjxj
b2RlPiZsdDt0eHA6YXJjX3NvY2lhbF9zaGFyZV9saW5rZWRpbiAvJmd0Owo8L2NvZGU+PC9w
cmU+CgoJPGg0PkFkZGl0aW9uYWwgQXR0cmlidXRlczwvaDQ+CgoJPHVsPgoJCTxsaT5zb3Vy
Y2U6IGJ5IGRlZmF1bHQgdGhpcyBpcyB5b3VyIHNpdGUmIzgyMTc7cyBuYW1lPC9saT4KCQk8
bGk+c3VtbWFyeTogcGFzcyBzb21lIHN1bW1hcnkgdGV4dCB0byBMaW5rZWRJbiAoTGlua2Vk
SW4gd2lsbCB0cnVuY2F0ZSBzdW1tYXJpZXMgZ3JlYXRlciB0aGFuIDI1NiBjaGFyYWN0ZXJz
IGxvbmcpPC9saT4KCTwvdWw+CgoJPGgzPlBpbnRlcmVzdDwvaDM+Cgo8cHJlPjxjb2RlPiZs
dDt0eHA6YXJjX3NvY2lhbF9zaGFyZV9waW50ZXJlc3QgLyZndDsKPC9jb2RlPjwvcHJlPgoK
CTxoND5BZGRpdGlvbmFsIEF0dHJpYnV0ZXM8L2g0PgoKCTx1bD4KCQk8bGk+aW1hZ2U6IDxz
cGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+IHRvIGFuIGltYWdlLCBieSBkZWZhdWx0IHRo
aXMgaXMgdGhlIGFydGljbGUmIzgyMTc7cyBpbWFnZTwvbGk+Cgk8L3VsPgoKCTxoMz5Qb2Nr
ZXQ8L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY19zb2NpYWxfc2hhcmVfcG9ja2V0IC8m
Z3Q7CjwvY29kZT48L3ByZT4KCgk8aDM+UmVkZGl0PC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4
cDphcmNfc29jaWFsX3NoYXJlX3JlZGRpdCAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPGgzPlN0
dW1ibGVVcG9uPC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfc29jaWFsX3NoYXJlX3N0
dW1ibGV1cG9uIC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8aDM+VHVtYmxyPC9oMz4KCjxwcmU+
PGNvZGU+Jmx0O3R4cDphcmNfc29jaWFsX3NoYXJlX3R1bWJsciAvJmd0Owo8L2NvZGU+PC9w
cmU+CgoJPGgzPlR3aXR0ZXI8L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY19zb2NpYWxf
c2hhcmVfdHdpdHRlciAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPGg0PkFkZGl0aW9uYWwgQXR0
cmlidXRlczwvaDQ+CgoJPHVsPgoJCTxsaT5tZW50aW9uOiBhZGRzIGEgVHdpdHRlciB1c2Vy
bmFtZSB0byB0aGUgZW5kIG9mIGEgdHdlZXQgKDxpPmUuZy48L2k+IC9AZHJtb25rZXluaW5q
YSk8L2xpPgoJPC91bD4KCgk8aDI+VXNhZ2U8L2gyPgoKCTxwPlRoZSBtYWpvcml0eSBvZiB0
aGUgdGFncyB3b3JrIHRoZSBzYW1lLCB3aXRoIGEgZmV3IGV4Y2VwdGlvbnMgd2hlcmUgdGhl
cmUgYXJlIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBhdmFpbGFibGUuPC9wPgoKCTxwPlRoZXkg
Y2FuIGFsbCBiZSB1c2VkIGFzIGVpdGhlciBhIHNpbmdsZSB0YWcgb3IgYSB3cmFwcGVyIHRh
Zy4gRm9yIGV4YW1wbGU6LTwvcD4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfc29jaWFsX3No
YXJlX3R3aXR0ZXIgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxwPm9yLDwvcD4KCjxwcmU+PGNv
ZGU+Jmx0O3R4cDphcmNfc29jaWFsX3NoYXJlX3R3aXR0ZXImZ3Q7VHdlZXQgVGhpcyZsdDsv
dHhwOmFyY19zb2NpYWxfc2hhcmVfdHdpdHRlciZndDsKPC9jb2RlPjwvcHJlPgoKCTxwPlRo
ZXkmIzgyMTc7cmUgaW50ZW5kZWQgdG8gd29yayB3aXRoaW4gYW4gaW5kaXZpZHVhbCBhcnRp
Y2xlIGNvbnRleHQsIHNvIHVzZWQgaW4gYW4gYXJ0aWNsZSBmb3JtLiBUaGUgPHNwYW4gY2xh
c3M9ImNhcHMiPlVSTDwvc3Bhbj4gdXNlZCBmb3Igc2hhcmluZyB3aWxsIGJlIHRoZSBkZWZh
dWx0IHBlcm1saW5rIGNyZWF0ZWQgYnkgVGV4dHBhdHRlcm4uIEhvd2V2ZXIsIHlvdSBjYW4g
b3ZlcnJpZGUgdGhlIDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+Oi08L3A+Cgo8cHJl
Pjxjb2RlPiZsdDt0eHA6YXJjX3NvY2lhbF9zaGFyZV90d2l0dGVyIHVybD0mIzM5O2h0dHA6
Ly93d3cuZXhhbXBsZS5jb20mIzM5OyAvJmd0Owo8L2NvZGU+PC9wcmU+CgoJPHA+QWxsIGxp
bmtzIGNyZWF0ZWQgYnkgdGhlIHRhZ3MgYXJlIDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3Nw
YW4+IGVuY29kZWQuPC9wPgoKCTxwPlRoZSBwbHVnaW4gd29uJiM4MjE3O3QgZG8gYW55dGhp
bmcgZmFuY3kgd2l0aCB0aGUgd2F5IHRoZSBsaW5rcyB3b3JrIHdoZW4gY2xpY2tlZC4gU28g
aWYgeW91IHdhbnQgdG8gb3BlbiB0aGUgbGlua3MgaW4gYSBuZXcgd2luZG93IHlvdSB3aWxs
IG5lZWQgdG8gcHV0IGluIHBsYWNlIHNvbWUgSmF2YVNjcmlwdCB0byBkbyB0aGlzIHlvdXJz
ZWxmLiBZb3UgY2FuIGVhc2lseSBhZGQgYSBjbGFzcyB0byB0aGUgbGlua3MgdG8gaGVscCB0
YXJnZXQgdGhlbSB3aXRoIHlvdXIgSmF2YVNjcmlwdDotPC9wPgoKPHByZT48Y29kZT4mbHQ7
dHhwOmFyY19zb2NpYWxfc2hhcmVfdHdpdHRlciBjbGFzcz0mIzM5O2Jvb2ttYXJrbGV0JiMz
OTsgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMj5BdXRob3I8L2gyPgoKCTxwPjxhIGhyZWY9
Imh0dHBzOi8vYW5keS1jYXJ0ZXIuY29tIj5BbmR5IENhcnRlcjwvYT4uPC9wPgoKCTxoMj5M
aWNlbnNlPC9oMj4KCgk8cD48YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vZHJtb25rZXlu
aW5qYS9hcmNfc29jaWFsX3NoYXJlL2Jsb2IvbWFzdGVyL0xJQ0VOU0UiPkxpY2Vuc2U8L2E+
PC9wPiI7czo0OiJjb2RlIjtzOjgwODA6Imdsb2JhbCAkcHJlZnMsICR0eHBjZmc7CgppZiAo
Y2xhc3NfZXhpc3RzKCdcVGV4dHBhdHRlcm5cVGFnXFJlZ2lzdHJ5JykpIHsKICAgIC8vIFJl
Z2lzdGVyIFRleHRwYXR0ZXJuIHRhZ3MgZm9yIFRYUCA0LjYrLgogICAgVHhwOjpnZXQoJ1xU
ZXh0cGF0dGVyblxUYWdcUmVnaXN0cnknKQogICAgICAgIC0+cmVnaXN0ZXIoJ2FyY19zb2Np
YWxfc2hhcmVfZGVsaWNpb3VzJykKICAgICAgICAtPnJlZ2lzdGVyKCdhcmNfc29jaWFsX3No
YXJlX2ZhY2Vib29rJykKICAgICAgICAtPnJlZ2lzdGVyKCdhcmNfc29jaWFsX3NoYXJlX2dw
bHVzJykKICAgICAgICAtPnJlZ2lzdGVyKCdhcmNfc29jaWFsX3NoYXJlX2xpbmtlZGluJykK
ICAgICAgICAtPnJlZ2lzdGVyKCdhcmNfc29jaWFsX3NoYXJlX3BpbnRlcmVzdCcpCiAgICAg
ICAgLT5yZWdpc3RlcignYXJjX3NvY2lhbF9zaGFyZV9wb2NrZXQnKQogICAgICAgIC0+cmVn
aXN0ZXIoJ2FyY19zb2NpYWxfc2hhcmVfcmVkZGl0JykKICAgICAgICAtPnJlZ2lzdGVyKCdh
cmNfc29jaWFsX3NoYXJlX3N0dW1ibGV1cG9uJykKICAgICAgICAtPnJlZ2lzdGVyKCdhcmNf
c29jaWFsX3NoYXJlX3R1bWJscicpCiAgICAgICAgLT5yZWdpc3RlcignYXJjX3NvY2lhbF9z
aGFyZV90d2l0dGVyJyk7Cn0KCmZ1bmN0aW9uIGFyY19zb2NpYWxfc2hhcmVfZGVsaWNpb3Vz
KCRhdHRzLCAkdGhpbmcgPSBudWxsKQp7CiAgICBleHRyYWN0KGxBdHRzKGFycmF5KAogICAg
ICAgICdjbGFzcycgPT4gJycsCiAgICAgICAgJ3RpdGxlJyA9PiBudWxsLAogICAgICAgICd1
cmwnID0+IG51bGwsCiAgICAgICAgJ3V0bScgPT4gZmFsc2UKICAgICksICRhdHRzKSk7Cgog
ICAgJHRoaW5nID0gKCR0aGluZz09PW51bGwpID8gJ1NoYXJlIG9uIERlbGljaW91cycgOiBw
YXJzZSgkdGhpbmcpOwoKICAgICR1dG1Tb3VyY2UgPSAkdXRtID8gJ2RlbGljaW91cy5jb20n
IDogbnVsbDsKCiAgICAkdXJsID0gX2FyY19zb2NpYWxfc2hhcmVfdXJsKCR1cmwsICR1dG1T
b3VyY2UpOwogICAgJHRpdGxlID0gX2FyY19zb2NpYWxfc2hhcmVfdGl0bGUoJHRpdGxlKTsK
CiAgICAkbGluayA9ICJodHRwOi8vZGVsaWNpb3VzLmNvbS9wb3N0P3VybD0kdXJsJmFtcDt0
aXRsZT0kdGl0bGUiOwoKICAgICRodG1sID0gaHJlZigkdGhpbmcsICRsaW5rLCAnIGNsYXNz
PSInIC4gJGNsYXNzIC4gJyInKTsKCiAgICByZXR1cm4gJGh0bWw7Cn0KCmZ1bmN0aW9uIGFy
Y19zb2NpYWxfc2hhcmVfZmFjZWJvb2soJGF0dHMsICR0aGluZyA9IG51bGwpCnsKICAgIGV4
dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ2NsYXNzJyA9PiAnJywKICAgICAgICAndXJs
JyA9PiBudWxsLAogICAgICAgICd1dG0nID0+IGZhbHNlCiAgICApLCAkYXR0cykpOwoKICAg
ICR0aGluZyA9ICgkdGhpbmc9PT1udWxsKSA/ICdTaGFyZSBvbiBGYWNlYm9vaycgOiBwYXJz
ZSgkdGhpbmcpOwoKICAgICR1dG1Tb3VyY2UgPSAkdXRtID8gJ2ZhY2Vib29rLmNvbScgOiBu
dWxsOwoKICAgICR1cmwgPSBfYXJjX3NvY2lhbF9zaGFyZV91cmwoJHVybCwgJHV0bVNvdXJj
ZSk7CgogICAgJGh0bWwgPSBocmVmKCR0aGluZywgImh0dHBzOi8vd3d3LmZhY2Vib29rLmNv
bS9zaGFyZXIvc2hhcmVyLnBocD91PSR1cmwiLCAnIGNsYXNzPSInIC4gJGNsYXNzIC4gJyIn
KTsKCiAgICByZXR1cm4gJGh0bWw7Cn0KCmZ1bmN0aW9uIGFyY19zb2NpYWxfc2hhcmVfZ3Bs
dXMoJGF0dHMsICR0aGluZyA9IG51bGwpCnsKICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAg
ICAgICAgJ2NsYXNzJyA9PiAnJywKICAgICAgICAndXJsJyA9PiBudWxsLAogICAgICAgICd1
dG0nID0+IGZhbHNlCiAgICApLCAkYXR0cykpOwoKICAgICR0aGluZyA9ICgkdGhpbmcgPT09
IG51bGwpID8gJ1NoYXJlIG9uIEdvb2dsZSsnIDogcGFyc2UoJHRoaW5nKTsKCiAgICAkdXRt
U291cmNlID0gJHV0bSA/ICdncGx1cycgOiBudWxsOwoKICAgICR1cmwgPSBfYXJjX3NvY2lh
bF9zaGFyZV91cmwoJHVybCwgJHV0bVNvdXJjZSk7CgogICAgJGh0bWwgPSBocmVmKCR0aGlu
ZywgImh0dHBzOi8vcGx1cy5nb29nbGUuY29tL3NoYXJlP3VybD0kdXJsIiwgJyBjbGFzcz0i
JyAuICRjbGFzcyAuICciJyk7CgogICAgcmV0dXJuICRodG1sOwp9CgpmdW5jdGlvbiBhcmNf
c29jaWFsX3NoYXJlX2xpbmtlZGluKCRhdHRzLCAkdGhpbmcgPSBudWxsKQp7CiAgICBnbG9i
YWwgJHByZWZzOwoKICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ2NsYXNzJyA9
PiAnJywKICAgICAgICAnc291cmNlJyA9PiBudWxsLAogICAgICAgICdzdW1tYXJ5JyA9PiBu
dWxsLAogICAgICAgICd0aXRsZScgPT4gbnVsbCwKICAgICAgICAndXJsJyA9PiBudWxsLAog
ICAgICAgICd1dG0nID0+IGZhbHNlCiAgICApLCAkYXR0cykpOwoKICAgICR0aGluZyA9ICgk
dGhpbmcgPT09IG51bGwpID8gJ1NoYXJlIG9uIExpbmtlZEluJyA6IHBhcnNlKCR0aGluZyk7
CgogICAgJHV0bVNvdXJjZSA9ICR1dG0gPyAnbGlua2VkaW4nIDogbnVsbDsKCiAgICAkdXJs
ID0gX2FyY19zb2NpYWxfc2hhcmVfdXJsKCR1cmwsICR1dG1Tb3VyY2UpOwogICAgJHRpdGxl
ID0gX2FyY19zb2NpYWxfc2hhcmVfdGl0bGUoJHRpdGxlKTsKICAgICRzb3VyY2UgPSAkc291
cmNlID09PSBudWxsICYmICFlbXB0eSgkcHJlZnNbJ3NpdGVuYW1lJ10pID8gdXJsZGVjb2Rl
KCRwcmVmc1snc2l0ZW5hbWUnXSkgOiB1cmxlbmNvZGUoJHNvdXJjZSk7CgogICAgJGxpbmsg
PSAiaHR0cDovL3d3dy5saW5rZWRpbi5jb20vc2hhcmVBcnRpY2xlP21pbmk9dHJ1ZSZhbXA7
dXJsPSR1cmwmYW1wO3RpdGxlPSR0aXRsZSZhbXA7c291cmNlPSRzb3VyY2UiOwoKICAgIGlm
ICghZW1wdHkoJHN1bW1hcnkpKSB7CiAgICAgICAgJGxpbmsgLj0gIiZhbXA7c3VtbWFyeT0k
c3VtbWFyeSI7CiAgICB9CgogICAgJGh0bWwgPSBocmVmKCR0aGluZywgJGxpbmssICcgY2xh
c3M9IicgLiAkY2xhc3MgLiAnIicpOwoKICAgIHJldHVybiAkaHRtbDsKfQoKZnVuY3Rpb24g
YXJjX3NvY2lhbF9zaGFyZV9waW50ZXJlc3QoJGF0dHMsICR0aGluZyA9IG51bGwpCnsKICAg
IGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ2NsYXNzJyA9PiAnJywKICAgICAgICAn
aW1hZ2UnID0+IG51bGwsCiAgICAgICAgJ3RpdGxlJyA9PiBudWxsLAogICAgICAgICd1cmwn
ID0+IG51bGwsCiAgICAgICAgJ3V0bScgPT4gZmFsc2UKICAgICksICRhdHRzKSk7CgogICAg
JHRoaW5nID0gKCR0aGluZyA9PT0gbnVsbCkgPyAnU2hhcmUgb24gUGludGVyZXN0JyA6IHBh
cnNlKCR0aGluZyk7CgogICAgJHV0bVNvdXJjZSA9ICR1dG0gPyAncGludGVyZXN0JyA6IG51
bGw7CgogICAgJHVybCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsLCAkdXRtU291cmNl
KTsKICAgICR0aXRsZSA9IF9hcmNfc29jaWFsX3NoYXJlX3RpdGxlKCR0aXRsZSk7CiAgICAk
aW1hZ2UgPSBfYXJjX3NvY2lhbF9zaGFyZV9pbWFnZSgkaW1hZ2UpOwoKICAgICRsaW5rID0g
Imh0dHA6Ly93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPSR1cmwm
YW1wO2Rlc2NyaXB0aW9uPSR0aXRsZSI7CiAgICBpZiAoJGltYWdlKSB7CiAgICAgICAgJGxp
bmsgLj0gIiZhbXA7bWVkaWE9JGltYWdlIjsKICAgIH0KCiAgICAkaHRtbCA9IGhyZWYoJHRo
aW5nLCAkbGluaywgJyBjbGFzcz0iJyAuICRjbGFzcyAuICciJyk7CgogICAgcmV0dXJuICRo
dG1sOwp9CgpmdW5jdGlvbiBhcmNfc29jaWFsX3NoYXJlX3BvY2tldCgkYXR0cywgJHRoaW5n
ID0gbnVsbCkKewogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICAgICAnY2xhc3MnID0+
ICcnLAogICAgICAgICd0aXRsZScgPT4gbnVsbCwKICAgICAgICAndXJsJyA9PiBudWxsLAog
ICAgICAgICd1dG0nID0+IGZhbHNlCiAgICApLCAkYXR0cykpOwoKICAgICR0aGluZyA9ICgk
dGhpbmcgPT09IG51bGwpID8gJ0FkZCB0byBQb2NrZXQnIDogcGFyc2UoJHRoaW5nKTsKCiAg
ICAkdXRtU291cmNlID0gJHV0bSA/ICdnZXRwb2NrZXQuY29tJyA6IG51bGw7CgogICAgJHVy
bCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsLCAkdXRtU291cmNlKTsKICAgICR0aXRs
ZSA9IF9hcmNfc29jaWFsX3NoYXJlX3RpdGxlKCR0aXRsZSk7CgogICAgJGxpbmsgPSAiaHR0
cHM6Ly9nZXRwb2NrZXQuY29tL3NhdmU/dXJsPSR1cmwmYW1wO3RpdGxlPSR0aXRsZSI7Cgog
ICAgJGh0bWwgPSBocmVmKCR0aGluZywgJGxpbmssICcgY2xhc3M9IicgLiAkY2xhc3MgLiAn
IicpOwoKICAgIHJldHVybiAkaHRtbDsKfQoKZnVuY3Rpb24gYXJjX3NvY2lhbF9zaGFyZV9y
ZWRkaXQoJGF0dHMsICR0aGluZyA9IG51bGwpCnsKICAgIGdsb2JhbCAkdGhpc2FydGljbGU7
CgogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICAgICAnY2xhc3MnID0+ICcnLAogICAg
ICAgICd0aXRsZScgPT4gbnVsbCwKICAgICAgICAndXJsJyA9PiBudWxsLAogICAgICAgICd1
dG0nID0+IGZhbHNlCiAgICApLCAkYXR0cykpOwoKICAgICR0aGluZyA9ICgkdGhpbmcgPT09
IG51bGwpID8gJ1NoYXJlIG9uIFJlZGRpdCcgOiBwYXJzZSgkdGhpbmcpOwoKICAgICR1dG1T
b3VyY2UgPSAkdXRtID8gJ3JlZGRpdCcgOiBudWxsOwoKICAgICR1cmwgPSBfYXJjX3NvY2lh
bF9zaGFyZV91cmwoJHVybCwgJHV0bVNvdXJjZSk7CiAgICAkdGl0bGUgPSBfYXJjX3NvY2lh
bF9zaGFyZV90aXRsZSgkdGl0bGUpOwoKICAgICRsaW5rID0gImh0dHA6Ly93d3cucmVkZGl0
LmNvbS9zdWJtaXQ/dXJsPSR1cmwmYW1wO3RpdGxlPSR0aXRsZSI7CgogICAgJGh0bWwgPSBo
cmVmKCR0aGluZywgJGxpbmssICcgY2xhc3M9IicgLiAkY2xhc3MgLiAnIicpOwoKICAgIHJl
dHVybiAkaHRtbDsKfQoKZnVuY3Rpb24gYXJjX3NvY2lhbF9zaGFyZV9zdHVtYmxldXBvbigk
YXR0cywgJHRoaW5nID0gbnVsbCkKewogICAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICAg
ICAnY2xhc3MnID0+ICcnLAogICAgICAgICd0aXRsZScgPT4gbnVsbCwKICAgICAgICAndXJs
JyA9PiBudWxsLAogICAgICAgICd1dG0nID0+IGZhbHNlCiAgICApLCAkYXR0cykpOwoKICAg
ICR0aGluZyA9ICgkdGhpbmcgPT09IG51bGwpID8gJ1NoYXJlIG9uIFN0dW1ibGVVcG9uJyA6
IHBhcnNlKCR0aGluZyk7CgogICAgJHV0bVNvdXJjZSA9ICR1dG0gPyAnc3R1bWJsZXVwb24n
IDogbnVsbDsKCiAgICAkdXJsID0gX2FyY19zb2NpYWxfc2hhcmVfdXJsKCR1cmwsICR1dG1T
b3VyY2UpOwogICAgJHRpdGxlID0gX2FyY19zb2NpYWxfc2hhcmVfdGl0bGUoJHRpdGxlKTsK
CiAgICAkbGluayA9ICJodHRwOi8vd3d3LnN0dW1ibGV1cG9uLmNvbS9zdWJtaXQ/dXJsPSR1
cmwmYW1wO3RpdGxlPSR0aXRsZSI7CgogICAgJGh0bWwgPSBocmVmKCR0aGluZywgJGxpbmss
ICcgY2xhc3M9IicgLiAkY2xhc3MgLiAnIicpOwoKICAgIHJldHVybiAkaHRtbDsKfQoKZnVu
Y3Rpb24gYXJjX3NvY2lhbF9zaGFyZV90dW1ibHIoJGF0dHMsICR0aGluZyA9IG51bGwpCnsK
ICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ2NsYXNzJyA9PiAnJywKICAgICAg
ICAndGl0bGUnID0+IG51bGwsCiAgICAgICAgJ3VybCcgPT4gbnVsbCwKICAgICAgICAndXRt
JyA9PiBmYWxzZQogICAgKSwgJGF0dHMpKTsKCiAgICAkdGhpbmcgPSAoJHRoaW5nID09PSBu
dWxsKSA/ICdTaGFyZSBvbiBUdW1ibHInIDogcGFyc2UoJHRoaW5nKTsKCiAgICAkdXRtU291
cmNlID0gJHV0bSA/ICd0dW1ibHInIDogbnVsbDsKCiAgICAkdXJsID0gX2FyY19zb2NpYWxf
c2hhcmVfdXJsKCR1cmwsICR1dG1Tb3VyY2UpOwogICAgJHRpdGxlID0gX2FyY19zb2NpYWxf
c2hhcmVfdGl0bGUoJHRpdGxlKTsKCiAgICAkbGluayA9ICJodHRwOi8vd3d3LnR1bWJsci5j
b20vc2hhcmU/dj0zJmFtcDt1PSR1cmwmYW1wO3Q9JHRpdGxlIjsKCiAgICAkaHRtbCA9IGhy
ZWYoJHRoaW5nLCAkbGluaywgJyBjbGFzcz0iJyAuICRjbGFzcyAuICciJyk7CgogICAgcmV0
dXJuICRodG1sOwoKfQoKZnVuY3Rpb24gYXJjX3NvY2lhbF9zaGFyZV90d2l0dGVyKCRhdHRz
LCAkdGhpbmcgPSBudWxsKQp7CiAgICBnbG9iYWwgJHRoaXNhcnRpY2xlOwoKICAgIGV4dHJh
Y3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ2NsYXNzJyA9PiAnJywKICAgICAgICAnbWVudGlv
bicgPT4gbnVsbCwKICAgICAgICAndGl0bGUnID0+IG51bGwsCiAgICAgICAgJ3VybCcgPT4g
bnVsbCwKICAgICAgICAndXRtJyA9PiBmYWxzZQogICAgKSwgJGF0dHMpKTsKCiAgICAkdGhp
bmcgPSAoJHRoaW5nID09PSBudWxsKSA/ICdTaGFyZSBvbiBUd2l0dGVyJyA6IHBhcnNlKCR0
aGluZyk7CgogICAgJHV0bVNvdXJjZSA9ICR1dG0gPyAndHdpdHRlci5jb20nIDogbnVsbDsK
CiAgICAkdXJsID0gX2FyY19zb2NpYWxfc2hhcmVfdXJsKCR1cmwsICR1dG1Tb3VyY2UpOwog
ICAgJHRpdGxlID0gX2FyY19zb2NpYWxfc2hhcmVfdGl0bGUoJHRpdGxlKTsKCiAgICAkbGlu
ayA9ICJodHRwOi8vdHdpdHRlci5jb20vaG9tZT9zdGF0dXM9JHRpdGxlKyR1cmwiOwoKICAg
IGlmICghZW1wdHkoJG1lbnRpb24pKSB7CiAgICAgICAgJGxpbmsgLj0gdXJsZW5jb2RlKCIg
L0AkbWVudGlvbiIpOwogICAgfQoKICAgICRodG1sID0gaHJlZigkdGhpbmcsICRsaW5rLCAn
IGNsYXNzPSInIC4gJGNsYXNzIC4gJyInKTsKCiAgICByZXR1cm4gJGh0bWw7Cn0KCmZ1bmN0
aW9uIF9hcmNfc29jaWFsX3NoYXJlX3RpdGxlKCR0aXRsZSA9IG51bGwpCnsKICAgIGdsb2Jh
bCAkdGhpc2FydGljbGU7CgogICAgJHRpdGxlID0gJHRpdGxlID09PSBudWxsICYmICFlbXB0
eSgkdGhpc2FydGljbGVbJ3RpdGxlJ10pID8gdXJsZW5jb2RlKCR0aGlzYXJ0aWNsZVsndGl0
bGUnXSkgOiB1cmxlbmNvZGUoJHRpdGxlKTsKCiAgICByZXR1cm4gJHRpdGxlOwp9CgpmdW5j
dGlvbiBfYXJjX3NvY2lhbF9zaGFyZV91cmwoJHVybCwgJHNvdXJjZSA9IG51bGwpCnsKICAg
IGdsb2JhbCAkdGhpc2FydGljbGU7CgogICAgJHVybCA9ICR1cmwgPT09IG51bGwgJiYgIWVt
cHR5KCR0aGlzYXJ0aWNsZVsndGhpc2lkJ10pID8gcGVybWxpbmt1cmxfaWQoJHRoaXNhcnRp
Y2xlWyd0aGlzaWQnXSkgOiAkdXJsOwoKICAgIGlmICghZW1wdHkoJHVybCkgJiYgIWVtcHR5
KCRzb3VyY2UpKSB7CiAgICAgICAgLy8gQWRkIEdvb2dsZSBBbmFseXRpY3MgdXJjaGluIHRy
YWNraW5nIG1vZHVsZSB0byB0aGUgVVJMCiAgICAgICAgJHF1ZXJ5ID0gInV0bV9zb3VyY2U9
JHNvdXJjZSZ1dG1fbWVkaXVtPXNvY2lhbCZ1dG1fY2FtcGFpZ249YXJjX3NvY2lhbF9zaGFy
ZSI7CiAgICAgICAgJHF1ZXJ5IC49ICFlbXB0eSgkdGhpc2FydGljbGVbJ3RoaXNpZCddKSA/
ICcmdXRtX2NvbnRlbnQ9dHhwOicgLiAkdGhpc2FydGljbGVbJ3RoaXNpZCddIDogJyc7CiAg
ICAgICAgJHNlcGFyYXRvciA9IChwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9RVUVSWSkgPT0g
bnVsbCkgPyAnPycgOiAnJic7CiAgICAgICAgJHVybCAuPSAkc2VwYXJhdG9yIC4gJHF1ZXJ5
OwoKICAgIH0KCiAgICBpZiAoIWVtcHR5KCR1cmwpKSB7CiAgICAgICAgLy8gRW5jb2RlIHRo
ZSBVUkwKICAgICAgICAkdXJsID0gdXJsZW5jb2RlKCR1cmwpOwogICAgfQoKICAgIHJldHVy
biAkdXJsOwp9CgpmdW5jdGlvbiBfYXJjX3NvY2lhbF9zaGFyZV9pbWFnZSgkaW1hZ2UgPSBu
dWxsKQp7CiAgICBnbG9iYWwgJHRoaXNhcnRpY2xlOwoKICAgIGlmICgkaW1hZ2UgPT09IG51
bGwgJiYgIWVtcHR5KCR0aGlzYXJ0aWNsZVsnYXJ0aWNsZV9pbWFnZSddKSkgewogICAgICAg
ICRpbWFnZSA9ICR0aGlzYXJ0aWNsZVsnYXJ0aWNsZV9pbWFnZSddOwoKICAgICAgICBpZiAo
aW50dmFsKCRpbWFnZSkpIHsKICAgICAgICAgICAgaWYgKCRycyA9IHNhZmVfcm93KCcqJywg
J3R4cF9pbWFnZScsICdpZCA9ICcgLiBpbnR2YWwoJGltYWdlKSkpIHsKICAgICAgICAgICAg
ICAgICRpbWFnZSA9IHVybGVuY29kZShpbWFnZXNyY3VybCgkcnNbJ2lkJ10sICRyc1snZXh0
J10pKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRpbWFnZSA9IG51
bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgIH0KCiAgICByZXR1cm4gJGltYWdl
Owp9CgoiO3M6MzoibWQ1IjtzOjMyOiI1YzNlOTBkMzE3ZGFhOGQ3NTRmNGYwZDI2ZGYzMzg2
NiI7fQ==
